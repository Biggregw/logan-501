{
  # Keep local certs around longer so phones don't see frequent changes.
  local_certs
}

# Redirect HTTP -> HTTPS.
http://{$LOGAN_HOST:localhost} {
  redir https://{$LOGAN_HOST:localhost}{uri}
}

# HTTPS reverse proxy to the FastAPI app.
https://{$LOGAN_HOST:localhost} {
  tls internal
  reverse_proxy logan501:8000
}

